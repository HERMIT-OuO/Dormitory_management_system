{"remainingRequest":"E:\\ICE\\VUE-ADMIN\\node_modules\\thread-loader\\dist\\cjs.js!E:\\ICE\\VUE-ADMIN\\node_modules\\babel-loader\\lib\\index.js!E:\\ICE\\VUE-ADMIN\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\ICE\\VUE-ADMIN\\src\\router\\index.js","dependencies":[{"path":"E:\\ICE\\VUE-ADMIN\\src\\router\\index.js","mtime":1558363759002},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport VueRouter from 'vue-router'; // 进度条\n\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport store from '@/store/index';\nimport util from '@/libs/util.js'; // 路由数据\n\nimport routes from \"../routerConfig\";\nVue.use(VueRouter); // 导出路由 在 main.js 里使用\n\nvar router = new VueRouter({\n  routes: routes\n});\n/**\n * 路由拦截\n * 权限验证\n */\n\nrouter.beforeEach(function (to, from, next) {\n  // 进度条\n  NProgress.start(); // 关闭搜索面板\n\n  store.commit('d2admin/search/set', false); // 验证当前路由所有的匹配中是否需要有登录验证的\n\n  if (to.matched.some(function (r) {\n    return r.meta.auth;\n  })) {\n    // 这里暂时将cookie里是否存有token作为验证是否登录的条件\n    // 请根据自身业务需要修改\n    var token = util.cookies.get('token');\n\n    if (token && token !== 'undefined') {\n      next();\n    } else {\n      // 没有登录的时候跳转到登录界面\n      // 携带上登陆成功之后需要跳转的页面完整路径\n      next({\n        name: 'login',\n        query: {\n          redirect: to.fullPath\n        }\n      }); // https://github.com/d2-projects/d2-admin/issues/138\n\n      NProgress.done();\n    }\n  } else {\n    // 不需要身份校验 直接通过\n    next();\n  }\n});\nrouter.afterEach(function (to) {\n  // 进度条\n  NProgress.done(); // 多页控制 打开新的页面\n\n  store.dispatch('d2admin/page/open', to); // 更改标题\n\n  util.title(to.meta.title);\n});\nexport default router;",{"version":3,"sources":["E:\\ICE\\VUE-ADMIN\\src\\router\\index.js"],"names":["Vue","VueRouter","NProgress","store","util","routes","use","router","beforeEach","to","from","next","start","commit","matched","some","r","meta","auth","token","cookies","get","name","query","redirect","fullPath","done","afterEach","dispatch","title"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AAEA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,OAAOC,IAAP,MAAiB,gBAAjB,C,CAEA;;AACA,OAAOC,MAAP;AAEAL,GAAG,CAACM,GAAJ,CAAQL,SAAR,E,CAEA;;AACA,IAAMM,MAAM,GAAG,IAAIN,SAAJ,CAAc;AAC3BI,EAAAA,MAAM,EAANA;AAD2B,CAAd,CAAf;AAIA;;;;;AAIAE,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACAT,EAAAA,SAAS,CAACU,KAAV,GAFoC,CAGpC;;AACAT,EAAAA,KAAK,CAACU,MAAN,CAAa,oBAAb,EAAmC,KAAnC,EAJoC,CAKpC;;AACA,MAAIJ,EAAE,CAACK,OAAH,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,IAAF,CAAOC,IAAX;AAAA,GAAjB,CAAJ,EAAuC;AACrC;AACA;AACA,QAAMC,KAAK,GAAGf,IAAI,CAACgB,OAAL,CAAaC,GAAb,CAAiB,OAAjB,CAAd;;AACA,QAAIF,KAAK,IAAIA,KAAK,KAAK,WAAvB,EAAoC;AAClCR,MAAAA,IAAI;AACL,KAFD,MAEO;AACL;AACA;AACAA,MAAAA,IAAI,CAAC;AACHW,QAAAA,IAAI,EAAE,OADH;AAEHC,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAEf,EAAE,CAACgB;AADR;AAFJ,OAAD,CAAJ,CAHK,CASL;;AACAvB,MAAAA,SAAS,CAACwB,IAAV;AACD;AACF,GAlBD,MAkBO;AACL;AACAf,IAAAA,IAAI;AACL;AACF,CA5BD;AA8BAJ,MAAM,CAACoB,SAAP,CAAiB,UAAAlB,EAAE,EAAI;AACrB;AACAP,EAAAA,SAAS,CAACwB,IAAV,GAFqB,CAGrB;;AACAvB,EAAAA,KAAK,CAACyB,QAAN,CAAe,mBAAf,EAAoCnB,EAApC,EAJqB,CAKrB;;AACAL,EAAAA,IAAI,CAACyB,KAAL,CAAWpB,EAAE,CAACQ,IAAH,CAAQY,KAAnB;AACD,CAPD;AASA,eAAetB,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\n// 进度条\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\n\nimport store from '@/store/index'\n\nimport util from '@/libs/util.js'\n\n// 路由数据\nimport routes from '../routerConfig'\n\nVue.use(VueRouter)\n\n// 导出路由 在 main.js 里使用\nconst router = new VueRouter({\n  routes\n})\n\n/**\n * 路由拦截\n * 权限验证\n */\nrouter.beforeEach((to, from, next) => {\n  // 进度条\n  NProgress.start()\n  // 关闭搜索面板\n  store.commit('d2admin/search/set', false)\n  // 验证当前路由所有的匹配中是否需要有登录验证的\n  if (to.matched.some(r => r.meta.auth)) {\n    // 这里暂时将cookie里是否存有token作为验证是否登录的条件\n    // 请根据自身业务需要修改\n    const token = util.cookies.get('token')\n    if (token && token !== 'undefined') {\n      next()\n    } else {\n      // 没有登录的时候跳转到登录界面\n      // 携带上登陆成功之后需要跳转的页面完整路径\n      next({\n        name: 'login',\n        query: {\n          redirect: to.fullPath\n        }\n      })\n      // https://github.com/d2-projects/d2-admin/issues/138\n      NProgress.done()\n    }\n  } else {\n    // 不需要身份校验 直接通过\n    next()\n  }\n})\n\nrouter.afterEach(to => {\n  // 进度条\n  NProgress.done()\n  // 多页控制 打开新的页面\n  store.dispatch('d2admin/page/open', to)\n  // 更改标题\n  util.title(to.meta.title)\n})\n\nexport default router\n"]}]}