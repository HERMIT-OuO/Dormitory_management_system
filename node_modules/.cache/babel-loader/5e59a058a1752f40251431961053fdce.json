{"remainingRequest":"E:\\ICE\\VUE-ADMIN\\node_modules\\thread-loader\\dist\\cjs.js!E:\\ICE\\VUE-ADMIN\\node_modules\\babel-loader\\lib\\index.js!E:\\ICE\\VUE-ADMIN\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\ICE\\VUE-ADMIN\\src\\store\\modules\\d2admin\\modules\\log.js","dependencies":[{"path":"E:\\ICE\\VUE-ADMIN\\src\\store\\modules\\d2admin\\modules\\log.js","mtime":1558363759005},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"E:\\\\ICE\\\\VUE-ADMIN\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport dayjs from 'dayjs';\nimport { get } from 'lodash';\nimport util from '@/libs/util.js';\nexport default {\n  namespaced: true,\n  state: {\n    // 错误日志\n    // + 日志条目的属性\n    //   - message 必须 日志信息\n    //   - type 非必须 类型 success | warning | info(默认) | danger\n    //   - time 必须 日志记录时间\n    //   - meta 非必须 其它携带信息\n    log: []\n  },\n  getters: {\n    /**\n     * @description 返回现存 log (all) 的条数\n     * @param {*} state vuex state\n     */\n    length: function length(state) {\n      return state.log.length;\n    },\n\n    /**\n     * @description 返回现存 log (error) 的条数\n     * @param {*} state vuex state\n     */\n    lengthError: function lengthError(state) {\n      return state.log.filter(function (log) {\n        return log.type === 'danger';\n      }).length;\n    }\n  },\n  actions: {\n    /**\n     * @description 添加一个日志\n     * @param {String} param message {String} 信息\n     * @param {String} param type {String} 类型\n     * @param {Object} param meta {Object} 附带的信息\n     */\n    push: function push(_ref, _ref2) {\n      var rootState = _ref.rootState,\n          commit = _ref.commit;\n      var message = _ref2.message,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === void 0 ? 'info' : _ref2$type,\n          meta = _ref2.meta;\n      commit('push', {\n        message: message,\n        type: type,\n        time: dayjs().format('YYYY-MM-DD HH:mm:ss'),\n        meta: _objectSpread({\n          // 当前用户信息\n          user: rootState.d2admin.user.info,\n          // 当前用户的 uuid\n          uuid: util.cookies.get('uuid'),\n          // 当前的 token\n          token: util.cookies.get('token'),\n          // 当前地址\n          url: get(window, 'location.href', '')\n        }, meta)\n      });\n    }\n  },\n  mutations: {\n    /**\n     * @description 添加日志\n     * @param {Object} state vuex state\n     * @param {Object} log data\n     */\n    push: function push(state, log) {\n      state.log.push(log);\n    },\n\n    /**\n     * @description 清空日志\n     * @param {Object} state vuex state\n     */\n    clean: function clean(state) {\n      // store 赋值\n      state.log = [];\n    }\n  }\n};",{"version":3,"sources":["E:\\ICE\\VUE-ADMIN\\src\\store\\modules\\d2admin\\modules\\log.js"],"names":["dayjs","get","util","namespaced","state","log","getters","length","lengthError","filter","type","actions","push","rootState","commit","message","meta","time","format","user","d2admin","info","uuid","cookies","token","url","window","mutations","clean"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,GAAG,EAAE;AAPA,GAFM;AAWbC,EAAAA,OAAO,EAAE;AACP;;;;AAIAC,IAAAA,MALO,kBAKCH,KALD,EAKQ;AACb,aAAOA,KAAK,CAACC,GAAN,CAAUE,MAAjB;AACD,KAPM;;AAQP;;;;AAIAC,IAAAA,WAZO,uBAYMJ,KAZN,EAYa;AAClB,aAAOA,KAAK,CAACC,GAAN,CAAUI,MAAV,CAAiB,UAAAJ,GAAG;AAAA,eAAIA,GAAG,CAACK,IAAJ,KAAa,QAAjB;AAAA,OAApB,EAA+CH,MAAtD;AACD;AAdM,GAXI;AA2BbI,EAAAA,OAAO,EAAE;AACP;;;;;;AAMAC,IAAAA,IAPO,6BAOwD;AAAA,UAAvDC,SAAuD,QAAvDA,SAAuD;AAAA,UAA5CC,MAA4C,QAA5CA,MAA4C;AAAA,UAAhCC,OAAgC,SAAhCA,OAAgC;AAAA,6BAAvBL,IAAuB;AAAA,UAAvBA,IAAuB,2BAAhB,MAAgB;AAAA,UAARM,IAAQ,SAARA,IAAQ;AAC7DF,MAAAA,MAAM,CAAC,MAAD,EAAS;AACbC,QAAAA,OAAO,EAAPA,OADa;AAEbL,QAAAA,IAAI,EAAJA,IAFa;AAGbO,QAAAA,IAAI,EAAEjB,KAAK,GAAGkB,MAAR,CAAe,qBAAf,CAHO;AAIbF,QAAAA,IAAI;AACF;AACAG,UAAAA,IAAI,EAAEN,SAAS,CAACO,OAAV,CAAkBD,IAAlB,CAAuBE,IAF3B;AAGF;AACAC,UAAAA,IAAI,EAAEpB,IAAI,CAACqB,OAAL,CAAatB,GAAb,CAAiB,MAAjB,CAJJ;AAKF;AACAuB,UAAAA,KAAK,EAAEtB,IAAI,CAACqB,OAAL,CAAatB,GAAb,CAAiB,OAAjB,CANL;AAOF;AACAwB,UAAAA,GAAG,EAAExB,GAAG,CAACyB,MAAD,EAAS,eAAT,EAA0B,EAA1B;AARN,WAUCV,IAVD;AAJS,OAAT,CAAN;AAiBD;AAzBM,GA3BI;AAsDbW,EAAAA,SAAS,EAAE;AACT;;;;;AAKAf,IAAAA,IANS,gBAMHR,KANG,EAMIC,GANJ,EAMS;AAChBD,MAAAA,KAAK,CAACC,GAAN,CAAUO,IAAV,CAAeP,GAAf;AACD,KARQ;;AAST;;;;AAIAuB,IAAAA,KAbS,iBAaFxB,KAbE,EAaK;AACZ;AACAA,MAAAA,KAAK,CAACC,GAAN,GAAY,EAAZ;AACD;AAhBQ;AAtDE,CAAf","sourcesContent":["import dayjs from 'dayjs'\nimport { get } from 'lodash'\nimport util from '@/libs/util.js'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 错误日志\n    // + 日志条目的属性\n    //   - message 必须 日志信息\n    //   - type 非必须 类型 success | warning | info(默认) | danger\n    //   - time 必须 日志记录时间\n    //   - meta 非必须 其它携带信息\n    log: []\n  },\n  getters: {\n    /**\n     * @description 返回现存 log (all) 的条数\n     * @param {*} state vuex state\n     */\n    length (state) {\n      return state.log.length\n    },\n    /**\n     * @description 返回现存 log (error) 的条数\n     * @param {*} state vuex state\n     */\n    lengthError (state) {\n      return state.log.filter(log => log.type === 'danger').length\n    }\n  },\n  actions: {\n    /**\n     * @description 添加一个日志\n     * @param {String} param message {String} 信息\n     * @param {String} param type {String} 类型\n     * @param {Object} param meta {Object} 附带的信息\n     */\n    push ({ rootState, commit }, { message, type = 'info', meta }) {\n      commit('push', {\n        message,\n        type,\n        time: dayjs().format('YYYY-MM-DD HH:mm:ss'),\n        meta: {\n          // 当前用户信息\n          user: rootState.d2admin.user.info,\n          // 当前用户的 uuid\n          uuid: util.cookies.get('uuid'),\n          // 当前的 token\n          token: util.cookies.get('token'),\n          // 当前地址\n          url: get(window, 'location.href', ''),\n          // 用户设置\n          ...meta\n        }\n      })\n    }\n  },\n  mutations: {\n    /**\n     * @description 添加日志\n     * @param {Object} state vuex state\n     * @param {Object} log data\n     */\n    push (state, log) {\n      state.log.push(log)\n    },\n    /**\n     * @description 清空日志\n     * @param {Object} state vuex state\n     */\n    clean (state) {\n      // store 赋值\n      state.log = []\n    }\n  }\n}\n"]}]}