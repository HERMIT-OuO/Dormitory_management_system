{"remainingRequest":"E:\\ICE\\VUE-ADMIN\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ICE\\VUE-ADMIN\\tools\\vue-filename-injector\\src\\lib\\injector.js!E:\\ICE\\VUE-ADMIN\\src\\pages\\Announcement\\components\\D2Crud\\D2Crud.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\ICE\\VUE-ADMIN\\src\\pages\\Announcement\\components\\D2Crud\\D2Crud.vue","mtime":1558614503342},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\ICE\\VUE-ADMIN\\tools\\vue-filename-injector\\src\\lib\\injector.js","mtime":1558363759028}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue'\nimport D2Crud from '@d2-projects/d2-crud'\nimport dayjs from 'dayjs'\n\nVue.use(D2Crud)\n\n\nexport default {\n  data() {\n    return {\n      columns: [\n        {\n          title: '日期',\n          key: 'date',\n          width: '180',\n          sortable:true,\n        },\n        {\n          title: '发布人',\n          key:'name',\n          width:'180'\n        },\n        {\n          title: '内容',\n          key: 'text',\n          width:'1000'\n        },\n      ],\n      options:{\n        stripe:true,\n      },\n      data: [\n        {\n          date: '2016-05-02',\n          text: '上海市普陀区金沙江路 1518 弄',\n          name: ' '\n        },\n        {\n          date: '2016-05-04',\n          text: '上海市普陀区金沙江路 1517 弄',\n          name: ' '\n        },\n        {\n          date: '2016-05-01',\n          text: '上海市普陀区金沙江路 1519 弄',\n          name: ' '\n        },\n        {\n          date: '2016-05-03',\n          text: '上海市普陀区金沙江路 1516 弄',\n          name: ' '\n        }\n      ],\n      addButton: {\n        icon: 'el-icon-plus',\n        size: 'small'\n      },\n      rowHandle: {\n        columnHeader: '编辑',\n        edit: {\n          icon: 'el-icon-edit',\n          text: '编辑',\n          size: 'small'\n        },\n        remove: {\n          icon: 'el-icon-delete',\n          size: 'small',\n          fixed: 'right',\n          confirm: true\n        }\n      },\n      formTemplate: {\n        date: {\n          title: '日期',\n          value: dayjs().format('YYYY-MM-DD  HH:mm'),\n          component: {\n            span: 12\n          }\n        },\n        text: {\n          title: '内容',\n          value: '',\n          component: {\n            span: 24\n          }\n        },\n        name:{\n          title:'发布人',\n          value:'管理员',\n          component: {\n            span: 12\n          }\n        }\n      },\n      formRules: {\n        date: [ { required: true, message: '请输入日期', trigger: 'blur' } ],\n        text: [ { required: true, message: '请输入内容', trigger: 'blur' } ],\n        name: [ { required: true, message: '请输入发布人', trigger: 'blur' } ]\n      },\n      formOptions: {\n        labelWidth: '80px',\n        labelPosition: 'left',\n        saveLoading: false,\n        gutter: 20\n      }\n    }\n  },\n  methods: {\n    handleRowAdd (row, done) {\n      this.formOptions.saveLoading = true\n      setTimeout(() => {\n        console.log(row)\n        this.$message({\n          message: '保存成功',\n          type: 'success'\n        });\n        done()\n        this.formOptions.saveLoading = false\n      }, 300);\n    },\n    handleRowEdit ({index, row}, done) {\n      this.formOptions.saveLoading = true\n      setTimeout(() => {\n        console.log(index)\n        console.log(row)\n        this.$message({\n          message: '编辑成功',\n          type: 'success'\n        })\n        done()\n        this.formOptions.saveLoading = false\n      }, 300)\n    },\n    handleRowRemove ({index, row}, done) {\n      setTimeout(() => {\n        console.log(index)\n        console.log(row)\n        this.$message({\n          message: '删除成功',\n          type: 'success'\n        })\n        done()\n      }, 300)\n    },\n    handleDialogCancel (done) {\n      this.$message({\n        message: '取消保存',\n        type: 'warning'\n      });\n      done()\n    },\n    handleSelectionChange (selection) {\n      console.log(selection)\n    },\n    getMyData(){\n      axios.get('/user?ID=12345')\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n    sendMyData(){\n\n    },\n  },\n  mounted(){\n    this.getMyData();\n  }\n}\n\n",{"version":3,"sources":["D2Crud.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"D2Crud.vue","sourceRoot":"src/pages/Announcement/components/D2Crud","sourcesContent":["<template>\n  <div class=\"d2-crud\">\n    <!-- 使用方法请参考文档和示例 -->\n    <!-- 文档： https://d2-projects.github.io/d2-admin-doc/zh/ecosystem-d2-crud/ -->\n    <!-- 示例： https://d2-projects.github.io/d2-admin/#/demo/d2-crud/index -->\n    <d2-crud\n      ref=\"d2Crud\"\n      :columns=\"columns\"\n      :data=\"data\"\n      :options = \"options\"\n      title=\"已发公告\"\n      selection-row\n      index-row\n      add-mode\n      :add-button=\"addButton\"\n      :rowHandle=\"rowHandle\"\n      :form-template=\"formTemplate\"\n      :form-rules=\"formRules\"\n      :form-options=\"formOptions\"\n      @row-add=\"handleRowAdd\"\n      @row-edit=\"handleRowEdit\"\n      @row-remove=\"handleRowRemove\"\n      @dialog-cancel=\"handleDialogCancel\"\n      @selection-change=\"handleSelectionChange\"/>\n  </div>\n</template>\n// import axios\n<script src=\"https://unpkg.com/axios/dist/axios.min.js\"></script>\n\n<script>\nimport Vue from 'vue'\nimport D2Crud from '@d2-projects/d2-crud'\nimport dayjs from 'dayjs'\n\nVue.use(D2Crud)\n\n\nexport default {\n  data() {\n    return {\n      columns: [\n        {\n          title: '日期',\n          key: 'date',\n          width: '180',\n          sortable:true,\n        },\n        {\n          title: '发布人',\n          key:'name',\n          width:'180'\n        },\n        {\n          title: '内容',\n          key: 'text',\n          width:'1000'\n        },\n      ],\n      options:{\n        stripe:true,\n      },\n      data: [\n        {\n          date: '2016-05-02',\n          text: '上海市普陀区金沙江路 1518 弄',\n          name: ' '\n        },\n        {\n          date: '2016-05-04',\n          text: '上海市普陀区金沙江路 1517 弄',\n          name: ' '\n        },\n        {\n          date: '2016-05-01',\n          text: '上海市普陀区金沙江路 1519 弄',\n          name: ' '\n        },\n        {\n          date: '2016-05-03',\n          text: '上海市普陀区金沙江路 1516 弄',\n          name: ' '\n        }\n      ],\n      addButton: {\n        icon: 'el-icon-plus',\n        size: 'small'\n      },\n      rowHandle: {\n        columnHeader: '编辑',\n        edit: {\n          icon: 'el-icon-edit',\n          text: '编辑',\n          size: 'small'\n        },\n        remove: {\n          icon: 'el-icon-delete',\n          size: 'small',\n          fixed: 'right',\n          confirm: true\n        }\n      },\n      formTemplate: {\n        date: {\n          title: '日期',\n          value: dayjs().format('YYYY-MM-DD  HH:mm'),\n          component: {\n            span: 12\n          }\n        },\n        text: {\n          title: '内容',\n          value: '',\n          component: {\n            span: 24\n          }\n        },\n        name:{\n          title:'发布人',\n          value:'管理员',\n          component: {\n            span: 12\n          }\n        }\n      },\n      formRules: {\n        date: [ { required: true, message: '请输入日期', trigger: 'blur' } ],\n        text: [ { required: true, message: '请输入内容', trigger: 'blur' } ],\n        name: [ { required: true, message: '请输入发布人', trigger: 'blur' } ]\n      },\n      formOptions: {\n        labelWidth: '80px',\n        labelPosition: 'left',\n        saveLoading: false,\n        gutter: 20\n      }\n    }\n  },\n  methods: {\n    handleRowAdd (row, done) {\n      this.formOptions.saveLoading = true\n      setTimeout(() => {\n        console.log(row)\n        this.$message({\n          message: '保存成功',\n          type: 'success'\n        });\n        done()\n        this.formOptions.saveLoading = false\n      }, 300);\n    },\n    handleRowEdit ({index, row}, done) {\n      this.formOptions.saveLoading = true\n      setTimeout(() => {\n        console.log(index)\n        console.log(row)\n        this.$message({\n          message: '编辑成功',\n          type: 'success'\n        })\n        done()\n        this.formOptions.saveLoading = false\n      }, 300)\n    },\n    handleRowRemove ({index, row}, done) {\n      setTimeout(() => {\n        console.log(index)\n        console.log(row)\n        this.$message({\n          message: '删除成功',\n          type: 'success'\n        })\n        done()\n      }, 300)\n    },\n    handleDialogCancel (done) {\n      this.$message({\n        message: '取消保存',\n        type: 'warning'\n      });\n      done()\n    },\n    handleSelectionChange (selection) {\n      console.log(selection)\n    },\n    getMyData(){\n      axios.get('/user?ID=12345')\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n    sendMyData(){\n\n    },\n  },\n  mounted(){\n    this.getMyData();\n  }\n}\n\n</script>\n\n<vue-filename-injector>\nexport default function (Component) {\n  Component.options.__source = \"src/pages/Announcement/components/D2Crud/D2Crud.vue\"\n}\n</vue-filename-injector>\n"]}]}